<?xml version="1.0" ?>
<Configuration name="Log4j1">
    <Appenders>
        <RollingFile name="tomcat" fileName="logs/tomcat.log" filePattern="logs/tomcat.log.%i">
            <PatternLayout pattern="%v1Level %t %c - %m%n"/>
            <Policies>
                <SizeBasedTriggeringPolicy size="10MB"/>
            </Policies>
            <DefaultRolloverStrategy max="10"/>
        </RollingFile>
        <RollingFile name="edu-sharing-sessions" fileName="logs/edu-sharing-sessions.log" append="true"
                     filePattern="logs/edu-sharing-sessions.log%d{'.'yyyy-MM-dd}">
            <PatternLayout pattern="%d{ABSOLUTE} %-5v1Level [%c.%M] %m%n"/>
            <Policies>
                <TimeBasedTriggeringPolicy modulate="true"/>
            </Policies>
            <DefaultRolloverStrategy max="2147483647"/>
        </RollingFile>
        <RollingFile name="edu-sharing-monitoring" fileName="logs/edu-sharing-monitoring.log" append="true"
                     filePattern="logs/edu-sharing-monitoring.log%d{'.'yyyy-MM-dd}">
            <PatternLayout pattern="%d{ABSOLUTE} %-5v1Level [%c.%M] %m%n"/>
            <Policies>
                <TimeBasedTriggeringPolicy modulate="true"/>
            </Policies>
            <DefaultRolloverStrategy max="2147483647"/>
        </RollingFile>
        <Console name="Console" target="SYSTEM_OUT">
            <PatternLayout pattern="%d{ISO8601} %-5v1Level [%c{3}.%M] %m%n"/>
        </Console>
        <RollingFile name="edu-sharing-oai-validator" fileName="logs/edu-sharing-oai-validator.log" append="true"
                     filePattern="logs/edu-sharing-oai-validator.log%d{'.'yyyy-MM-dd}">
            <PatternLayout pattern="%d{ISO8601} %-5v1Level [%c{3}.%M] %m%n"/>
            <Policies>
                <TimeBasedTriggeringPolicy modulate="true"/>
            </Policies>
            <DefaultRolloverStrategy max="2147483647"/>
        </RollingFile>
        <RollingFile name="edu-sharing-search" fileName="logs/edu-sharing-search.log" append="true"
                     filePattern="logs/edu-sharing-search.log%d{'.'yyyy-MM-dd}">
            <PatternLayout pattern="%d{ABSOLUTE} %-5v1Level [%c.%M] %m%n"/>
            <Policies>
                <TimeBasedTriggeringPolicy modulate="true"/>
            </Policies>
            <DefaultRolloverStrategy max="2147483647"/>
        </RollingFile>
        <RollingFile name="edu-sharing-jobs" fileName="logs/edu-sharing-jobs.log" append="true"
                     filePattern="logs/edu-sharing-jobs.log%d{'.'yyyy-MM-dd}">
            <PatternLayout pattern="%d{ISO8601} %-5v1Level [%c{3}.%M] %m%n"/>
            <Policies>
                <TimeBasedTriggeringPolicy modulate="true"/>
            </Policies>
            <DefaultRolloverStrategy max="2147483647"/>
        </RollingFile>
        <RollingFile name="File" fileName="logs/edu-sharing.log" append="true"
                     filePattern="logs/edu-sharing.log%d{'.'yyyy-MM-dd}">
            <PatternLayout pattern="%d{ISO8601} %-5v1Level [%c{3}.%M] %m%n"/>
            <Policies>
                <TimeBasedTriggeringPolicy modulate="true"/>
            </Policies>
            <DefaultRolloverStrategy max="2147483647"/>
        </RollingFile>
        <RollingFile name="edu-sharing-deletedobj" fileName="logs/edu-sharing-deletedobj.log" append="true"
                     filePattern="logs/edu-sharing-deletedobj.log%d{'.'yyyy-MM-dd}">
            <PatternLayout pattern="%d{ISO8601} %-5v1Level [%c{3}.%M] %m%n"/>
            <Policies>
                <TimeBasedTriggeringPolicy modulate="true"/>
            </Policies>
            <DefaultRolloverStrategy max="2147483647"/>
        </RollingFile>
    </Appenders>
    <Loggers>
        <Root level="error">
            <AppenderRef ref="tomcat"/>
        </Root>
        <Logger name="org.apache.myfaces" level="warn"/>
        <Logger name="org.edu_sharing.repository.server.tools.cache" level="debug"/>
        <Logger name="org.alfresco" level="info"/>
        <Logger name="org.edu_sharing.repository.server.rendering.RenderingProxy" level="debug"/>
        <Logger name="org.alfresco.util" level="warn"/>
        <Logger name="org.edu_sharing.repository.server.jobs.quartz.RemoveDeletedImportsJob" level="info">
            <AppenderRef ref="edu-sharing-deletedobj"/>
        </Logger>
        <Logger name="org.edu_sharing.repository.server.MCAlfrescoAPIClient" level="info"/>
        <Logger name="org.edu_sharing.repository.server.authentication.SessionListener" level="debug">
            <AppenderRef ref="edu-sharing-sessions"/>
        </Logger>
        <Logger name="org.edu_sharing.repository.server.tools.ActionObserver" level="debug"/>
        <Logger name="org.apache" level="info"/>
        <Logger name="org.alfresco.smb" level="warn"/>
        <Logger name="org.alfresco.repo" level="warn"/>
        <Logger name="org.edu_sharing.repository.server.importer.OAIPMHLOMValidator" level="info">
            <AppenderRef ref="edu-sharing-oai-validator"/>
        </Logger>
        <Logger name="org.edu_sharing.repository.server.tools.HttpQueryTool" level="debug"/>
        <Logger name="org.alfresco.repo.admin" level="info"/>
        <Logger name="org.edu_sharing.repository.server.jobs" level="info">
            <AppenderRef ref="edu-sharing-jobs"/>
        </Logger>
        <Logger name="org.edu_sharing.repository.server.monitoring" level="debug">
            <AppenderRef ref="edu-sharing-monitoring"/>
        </Logger>
        <Logger name="org.edu_sharing.repository.server.importer" level="debug">
            <AppenderRef ref="edu-sharing-jobs"/>
        </Logger>
        <Logger name="org.edu_sharing.repository.server.importer.ImportCleaner" level="info">
            <AppenderRef ref="edu-sharing-deletedobj"/>
        </Logger>
        <Logger name="org.alfresco.repo.module" level="info"/>
        <Logger name="org.edu_sharing" level="info"/>
        <Logger name="org.edu_sharing.service.search.SearchLogger" level="info">
            <AppenderRef ref="edu-sharing-search"/>
        </Logger>
    </Loggers>
</Configuration>